<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build">
  <Sdk Name="Microsoft.Build.Sql" Version="0.1.3-preview" />
  <PropertyGroup>
    <Name>sqldb</Name>
    <ProjectGuid>{F290C29B-5A76-45FF-962A-166D25E56967}</ProjectGuid>
    <DSP>Microsoft.Data.Tools.Schema.Sql.SqlAzureV12DatabaseSchemaProvider</DSP>
    <ModelCollation>1033, CI</ModelCollation>
  </PropertyGroup>
  <Target Name="BeforeBuild">
    <Delete Files="$(BaseIntermediateOutputPath)\project.assets.json" />
  </Target>

  <!-- STEP 1 -->
  <!-- <ItemGroup>
    <PostDeploy Include="Script.OldPostDeployment.sql" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Tables\" />
    <Folder Include="Stored Procedures\" />
  </ItemGroup>
  <ItemGroup>
    <Build Remove="Script.NewPostDeployment.sql" />
    <Build Remove="Script.PostDeployment.sql" />
    <Build Remove="New Tables\**" />
    <Build Remove="New Stored Procedures\**" />
  </ItemGroup> -->

  <!-- STEP 2 -->
  <ItemGroup>
    <PostDeploy Include="Script.PostDeployment.sql" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Tables\" />
    <Folder Include="Stored Procedures\" />
  </ItemGroup>
  <ItemGroup>
    <Build Remove="Script.NewPostDeployment.sql" />
    <Build Remove="Script.OldPostDeployment.sql" />
    <Build Remove="New Tables\**" />
    <Build Remove="New Stored Procedures\**" />
  </ItemGroup>

  <!-- NEW TABLES AND STORED PROCEDURES -->
  <!-- <ItemGroup>
    <PostDeploy Include="Script.NewPostDeployment.sql" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="New Tables\" />
    <Folder Include="New Stored Procedures\" />
  </ItemGroup>
  <ItemGroup>
    <Build Remove="Script.PostDeployment.sql" />
    <Build Remove="Script.OldPostDeployment.sql" />
    <Build Remove="Functions\**" />
    <Build Remove="Tables\**" />
    <Build Remove="Stored Procedures\**" />
  </ItemGroup> -->
</Project>